<section class="card">
  <header class="card-header">
    <h2>Owners</h2>
    <div class="header-actions">
      <button type="button" class="ghost" routerLink="/owners/new">New</button>
      <button type="button" class="ghost" (click)="refresh()">Refresh</button>
    </div>
  </header>

  <p class="muted" *ngIf="isLoading">Loading...</p>
  <p class="error" *ngIf="error">{{ error }}</p>

  <table class="table" *ngIf="owners.length; else emptyState">
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Commands</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let owner of owners">
        <td>{{ owner.name }}</td>
        <td>{{ owner.email }}</td>
        <td>
          <div class="table-actions">
            <button type="button" class="ghost" [routerLink]="['/owners', owner.id, 'view']">
              View
            </button>
            <button type="button" class="ghost" [routerLink]="['/owners', owner.id, 'edit']">
              Edit
            </button>
            <button type="button" class="danger" (click)="delete(owner.id)" [disabled]="isLoading">
              Delete
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <ng-template #emptyState>
    <p class="table-empty">No owners yet.</p>
  </ng-template>
</section>

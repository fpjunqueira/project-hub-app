<section class="card">
  <header class="card-header">
    <h2>Files</h2>
    <div class="header-actions">
      <button type="button" class="ghost" routerLink="/files/new">New</button>
    </div>
  </header>

  <p class="muted" *ngIf="isLoading()">Loading...</p>
  <p class="error" *ngIf="error()">{{ error() }}</p>

  <table class="table" *ngIf="files().length; else emptyState">
    <thead>
      <tr>
        <th>Filename</th>
        <th>Path</th>
        <th>Commands</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let file of files()">
        <td>{{ file.filename }}</td>
        <td>{{ file.path }}</td>
        <td>
          <div class="table-actions">
            <button type="button" class="ghost" [routerLink]="['/files', file.id, 'view']">
              View
            </button>
            <button type="button" class="ghost" [routerLink]="['/files', file.id, 'edit']">
              Edit
            </button>
            <button type="button" class="danger" (click)="delete(file.id)" [disabled]="isDeleting(file.id)">
              Delete
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <ng-template #emptyState>
    <p class="table-empty">No files yet.</p>
  </ng-template>
</section>
